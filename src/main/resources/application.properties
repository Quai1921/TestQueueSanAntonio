spring.application.name=queues


# ===================================
# CONFIGURACIÓN BASE DE DATOS
# ===================================

# PostgreSQL (Producción)
#spring.datasource.url=jdbc:postgresql://localhost:5432/turnos_municipal
#spring.datasource.username=turnos_user
#spring.datasource.password=turnos_password
#spring.datasource.driver-class-name=org.postgresql.Driver

# H2 (Desarrollo - comentar líneas PostgreSQL y descomentar estas)
#spring.datasource.url=jdbc:h2:mem:turnos_dev
#spring.datasource.driver-class-name=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console

# PostgreSQL (Prueba)
spring.datasource.url=jdbc:postgresql://localhost:5432/turnosPresencial
spring.datasource.username=postgres
spring.datasource.password=admin
#spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================
# CONFIGURACIÓN JPA/HIBERNATE
# ===================================

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Configuración de conexiones
spring.jpa.properties.hibernate.connection.pool_size=10
spring.jpa.properties.hibernate.connection.autocommit=false

# ===================================
# CONFIGURACIÓN JWT
# ===================================

# Clave secreta (CAMBIAR EN PRODUCCIÓN)
jwt.secret=bXVuaWNpcGFsaWRhZF9zYW5fYW50b25pb19zZWNyZXRfa2V5XzIwMjRfcXVldWVfc3lzdGVt

# Tiempo de expiración en milisegundos
jwt.expiration=86400000
#jwt.expiration=60000 // 1 minuto
# 86400000ms = 24 horas

# Tiempo de expiración del refresh token
#jwt.refresh-expiration=604800000
jwt.refresh-expiration=300000
# 604800000ms = 7 días

# ===================================
# CONFIGURACIÓN DEL SERVIDOR
# ===================================

server.port=8080
server.servlet.context-path=/
server.error.include-message=always
server.error.include-binding-errors=always

# ===================================
# CONFIGURACIÓN DE LOGGING
# ===================================

# Niveles de logging
logging.level.queue_san_antonio.queues=DEBUG
logging.level.org.springframework.security=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Patrón de logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Archivo de logging
logging.file.name=logs/sistema-turnos.log
logging.file.max-size=10MB
logging.file.max-history=30

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN
# ===================================

spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# ===================================
# CONFIGURACIÓN INTERNACIONAL
# ===================================

spring.mvc.locale=es_AR
spring.mvc.locale-resolver=fixed

# ===================================
# CONFIGURACIÓN DE CACHE
# ===================================

spring.cache.type=ehcache
spring.cache.ehcache.config=classpath:ehcache.xml

# ===================================
# CONFIGURACIÓN DE ACTUATOR
# ===================================

management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# ===================================
# CONFIGURACIÓN ESPECÍFICA DEL SISTEMA
# ===================================

# Configuración de turnos
sistema.turnos.codigo-longitud=3
sistema.turnos.max-pendientes-por-ciudadano=1
sistema.turnos.tiempo-llamado-minutos=5

# Configuración de pantallas
sistema.pantallas.refresh-interval-seconds=5
sistema.pantallas.mensaje-tiempo-default=10

# Configuración de auditoría
sistema.auditoria.max-registros-por-consulta=1000
sistema.auditoria.retention-days=365

# ===================================
# CONFIGURACIÓN DE DESARROLLO
# ===================================

# Solo para desarrollo
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# ===================================
# CONFIGURACIÓN DE PROFILES
# ===================================

# Activar profile específico
# spring.profiles.active=dev
# spring.profiles.active=prod


# Backblaze B2 Configuration
b2.application-key-id=dd084ae0a94f
b2.application-key=00509797b25233794db1b5ec9e93c56e3e6ddc6f7a
b2.bucket-name=${B2_BUCKET_NAME:turnos-san-antonio-media}
b2.base-url=${B2_BASE_URL:https://f000.backblazeb2.com}

# File upload settings
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB